# 2025-10-28 화요일 : Basic syntax

### 톱 레벨 상수 (const val)

```kotlin
// 톱 레벨(Top-level)에 선언된 const val
// 컴파일 시점에 이 값이 100으로 대체됩니다. (인라인(inline))
const val MAX_USER_COUNT = 100

object MyConfig {
    // object 내부에 선언된 const val
    const val API_KEY = "YOUR_SECRET_API_KEY_12345"
}

fun main() {
    println("최대 사용자 수: $MAX_USER_COUNT")
    println("API 키: ${MyConfig.API_KEY}")

    // const val은 함수 내부에 선언될 수 없습니다.
    // const val MIN_COUNT = 0 // (컴파일 에러!)
}

fun checkUser(count: Int): Boolean {
    return count <= MAX_USER_COUNT
}

```

Decompile 해서 보면 인라인 되어 있는 것을 확인 할 수 있다.

```java
public static final boolean checkUser(int count) {
    return count <= 100;
}
```

### 형변환 (Type Casting)

```kotlin
fun main() {
    val a: Int = 10
    // val b: Long = a // (컴파일 에러!) Int가 Long으로 자동 변환되지 않습니다.
    // why? Int, Long 다 객체 형태로만 되어 있어 형변환이 안 된다.
    // public actual class Long private constructor() : Number(), Comparable<Long> {}
    // public actual class Int private constructor() : Number(), Comparable<Int> {}

    // Java에는 primitive type(int, long, double 등)과 Wrapper class(Integer, Long, Double 등) 두 가지가 있습니다. 
    // primitive type은 객체가 아니므로 자동으로 더 큰 타입으로 승격됩니다(widening conversion).


    // 1. 명시적 형변환 (to[타입]() 함수 사용)
    val b: Long = a.toLong()
    println("Int 10 -> Long $b") // 출력: 10

    val c: Double = 3.14159
    val d: Int = c.toInt() // 소수점 이하가 절삭됩니다.
    println("Double 3.14159 -> Int $d") // 출력: 3

    // 2. 문자열을 숫자로 변환
    val strNumber = "1234"
    val num: Int = strNumber.toInt()
    println("String \"1234\" -> Int $num")

    // "숫자가 아닌 값"을 변환하려 하면 예외(Exception)가 발생합니다.
    // val strError = "안녕"
    // val numError = strError.toInt() // (런타임 에러! NumberFormatException)

    // 안전하게 변환하려면 .toIntOrNull()을 사용합니다.
    val strError = "안녕"
    val numOrNull: Int? = strError.toIntOrNull() // 변환 실패 시 null 반환
    println("변환 실패 시: $numOrNull") // 출력: null
}

```

리터럴을 직접 사용하거나 산술 연산에서는 컴파일러가 자동으로 처리해요.

```kotlin
val b: Long = 10  // OK - 리터럴은 자동으로 Long으로 해석됨
val l = 1L + 3    // OK - Long + Int => Long (연산자 오버로딩)

```

### 컴파일

단일 클래스 파일로 컴파일 하려면

```bash
kotlinc Main2.kt -d .

```

클래스 파일 실행 (패키지 루트에서):
gangnam2_kotlin_study\build\classes\kotlin\main>

```bash
java com.ezlevup.my.Main2Kt

```




