# 여러가지 데이터 형식

### CSV(Comma-Separated Values)

- 데이터를 콤마로 나눈 형식

```text
이름,나이,직업
홍길동,30,개발자
김철수,25,디자이너

```

### 프로퍼티 형식의 파일 읽기

- Properties 클래스를 사용하여 키(key)와 값(value)의 쌍으로 읽고 쓰기가 가능

data.properties 파일의 내용

```text
heroName=홍길동
heroHp=100
```

- 왼쪽은 키(key), 오른쪽은 값(value)을 의미합니다.
- 등호(=) 기호로 구분하며, 경우에 따라 콜론(:)이나 공백으로도 구분할 수 있습니다.
- 주석은 # 또는 !로 시작하며 해당 줄을 무시합니다.
- 각 키와 값은 문자열로 취급되며, Java나 Kotlin에서 java.util.Properties 클래스를 사용해 쉽게 읽고 쓸 수 있습니다.

```kotlin
import java.util.Properties
import java.io.FileInputStream

val props = Properties()
props.load(FileInputStream("data.properties"))

val heroName = props.getProperty("heroName")  // "홍길동"
val heroHp = props.getProperty("heroHp")?.toIntOrNull() ?: 0  // 100

```

### XML(Extensible Markup Language) 형식

- <> 태그를 활용한 기술 방식
- 포함관계를 기술할 수 있음

```xml
<?xml version="1.0" encoding="UTF-8"?>
<hero>
    <name>홍길동</name>
    <hp>100</hp>
</hero>

```

### JSON(JavaScript Object Notation) 형식

- 네트워크 통신에서 가장 많이 사용되고 있음
- XML에 비해 적은 용량
- []로 리스트, {}로 객체를 표현
- 키(key), 값(value) 형태
- JSON은 사람과 기계 모두 읽고 쓰기 쉬우며, 대부분 프로그래밍 언어에서 쉽게 파싱 및 생성 가능합니다.

```json
{
  "name": "홍길동",
  "age": 30,
  "isHero": true,
  "skills": [
    "Java",
    "Kotlin",
    "Spring"
  ],
  "address": {
    "city": "서울",
    "zip": "12345"
  },
  "spouse": null
}

```

### 컴퓨터 세계에서의 직렬화의 의미

- 데이터 구조나 객체 상태를 저장하고 나중에 재구성할 수 있는 포맷으로 변환하는 과정
- 객체를 파일의 형태 등으로 저장하거나, 통신하기 쉬운 포맷으로 변환하는 과정을 의미
- 클래스 내부의 필드에 다른 클래스가 있다면 모두 직렬화 처리를 해 줘야 함

### 직렬화(Serialization)

- 주로 서버와 JSON 으로 통신을 할 것이기 때문에 JSON 직렬화를 기본으로 한다.
- 직렬화: 클래스 -> JSON
- 역직렬화: JSON -> 클래스

> 코틀린 공식 직렬화 라이브러리 활용. 준비 (build.gradle.kts)
> https://kotlinlang.org/docs/serialization.html#serialize-and-deserialize-json

직접한다면

```kotlin
class User(var name: String, var email: String) {
    // 직렬화
    fun toJson(): String {
        return """
            {
                "name": "$name",
                "email": "$email"
            }
        """.trimIndent()
    }

    companion object {
        // 역직렬화
        fun fromJson(json: String): User {
            // 간단한 파싱 (실제로는 정규식이나 파서 사용 권장)
            val name = json.substringAfter("\"name\": \"")
                .substringBefore("\"")

            val email = json.substringAfter("\"email\": \"")
                .substringBefore("\"")

            return User(name, email)
        }
    }
}

```

실무에선 JSON 파서 라이브러리 사용하시면 됩니다.




