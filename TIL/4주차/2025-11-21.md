# 네트워크 통신

## 1️⃣ URI / URL / URN
- **URI**(Identifier) : 자원을 식별하는 문자열 전체 개념
- **URL**(Locator) : 위치(주소)로 식별하는 URI (주로 웹 주소)
- **URN**(Name) : 이름으로 식별하는 URI

---

## 2️⃣ HTTP 프로토콜
- 웹에서 **문서·이미지·영상 등 리소스를 주고받는 프로토콜**
- 기본 성격: **요청/응답 구조 + 상태 비저장(Stateless)**
- 원래는 문서 전송용이었지만, 지금은 **텍스트·JSON·바이너리(파일, 이미지, 영상)** 등 전송에 일반적으로 사용
- 바이너리 데이터도 **멀티파트/스트림/Base64** 형태로 전송 가능

---

## 3️⃣ JSON 형식
- 서버–클라이언트 통신의 **사실상 표준 데이터 형식**
- `{ "key": "value" }` 형태의 **Key–Value 구조 (Map 유사)**
- 가볍고 사람이 읽기 쉬우며, 문자열로 직렬화/역직렬화가 쉬움
- 대부분의 언어에 파서가 있어 **상호 운용성**이 뛰어남

---

## 4️⃣ Stateless vs Stateful ⚖️
- **HTTP**
    - 요청 하나에 대한 응답 하나 → **요청/응답 1:1 대응**
    - 이전 요청의 상태를 기억하지 않음 → **Stateless 프로토콜**
    - 클라이언트는 요청 전까지 서버 상태(정상 동작 여부)를 알 수 없음
- **TCP**
    - 연결을 맺고 끊을 때까지 상태를 유지 → **Stateful한 통신 방식**
    - 한쪽 장애 시 다른 쪽에서 감지 가능

---

## 5️⃣ 소켓 / TCP / UDP ⚙️

### 소켓(Socket)
- **TCP/UDP를 추상화한 OS 제공 API**
- 네트워크 통신을 위해 사용하는 **프로그래밍 인터페이스**이지, 프로토콜이 아님

### TCP
- **신뢰성이 중요한 서비스**(웹, 이메일, 파일 전송 등)에 사용
- 특징
    - 연결 지향, 상태 유지
    - 순서 보장, 재전송, 흐름 제어
    - 바이너리 포함 임의 데이터 전송 가능
    - 한 연결(소켓)을 여러 요청이 공유 → 요청 식별자가 필요
    - 통신 타임아웃/재시도 로직을 애플리케이션에서 설계해야 함

### UDP
- **속도 우선**(실시간 스트리밍, 게임 등)에 사용
- 특징
    - 비연결형, 상태 없음
    - 전달 보장·순서 보장 없음 → 신뢰성 낮음
    - 구조가 단순, 오버헤드 작음
    - 멀티캐스트·브로드캐스트 지원

---

## 6️⃣ HTTP 요청 메서드

### GET
- 리소스 **조회(Read)** 용
- URL 뒤에 `?key=value&...` 형태의 **쿼리 파라미터** 사용
- 관례상 **body는 사용하지 않음** (표준상 금지는 아님)

### POST
- 리소스 **생성/처리 요청** (로그인, 주문 등)
- **body에 데이터**를 담아서 전송
- 브라우저에서는 주로 **폼 제출 또는 JS로 전송**

### PUT / PATCH / DELETE
- **REST API에서 자원 수정·삭제에 사용**
    - PUT  : 전체 교체(전체 업데이트)
    - PATCH: 일부 필드만 수정
    - DELETE: 삭제
- 실무에선 브라우저 + JS, 또는 API 클라이언트(포스트맨 등)로 테스트

---

## 7️⃣ HTTP 상태 코드
- 모든 HTTP 응답은 **상태 코드 + 메시지**를 포함
- 주요 예시
    - `200 OK` : 성공
    - `400 Bad Request` : 잘못된 요청
    - `404 Not Found` : 자원 없음
    - `500 Internal Server Error` : 서버 내부 오류

---

## 8️⃣ 세션과 쿠키
- HTTP는 **Stateless** → 사용자의 로그인 상태 등을 기억할 수 없음
- 이를 보완하기 위해
    - **서버**: 세션 저장소에 사용자 상태 보관
    - **클라이언트(웹)**: 쿠키에 세션 ID 등을 저장하여 매 요청마다 전송
- 모바일 앱에선 주로 **토큰(Access Token 등)** 으로 상태를 관리하고,  
  브라우저 기반 웹에서 쿠키/세션을 많이 사용

---

## 9️⃣ REST & RESTful API
- **REST**: 분산 시스템을 위한 **자원 중심(리소스 중심) 아키텍처 스타일**
- **RESTful API**
    - URL로 **자원(Resource)** 를 표현
    - HTTP 메서드(GET/POST/PUT/PATCH/DELETE)로 **행위**를 표현
    - 요청/응답 데이터는 보통 **JSON 포맷** 사용
- 오늘날 **서버–클라이언트 간 HTTP 통신에서 가장 널리 사용되는 규약/관례**  

## 알아두면 좋은 내용
- 인터페이스 정의를 잘하고 `mock` 데이터를 잘 만들면 서로 각자의 맡은 부분만 잘 작성해 놓아도 합쳤을때 잘 작동한다.
- 레포지토리도 일종의 캡슐화