# TIL

## 2025-11-26 Result 패턴

### Result 패턴
- 성공과 실패를 명확하게 처리한다.
- 실패의 종류는 여러 가지가 존재
  - 네트워크 연결이 아예 안 되어 있음
  - 네트워크 불안정으로 타임아웃 발생
  - 논리적으로 잘못된 값
  - 그냥 내가 판단했을 때 에러임

- Result 패턴은 성공, 실패 시 처리에 유용한 패턴이다.

#### Result 패턴 사용 시 효과
- enum 과 동일하게 when과 조합하여 모든 처리를 강제할 수 있다.
- 성공과 실패를 처리할 수 있다.
```kotlin
val repository = TodoRepository()

val result = repository.getTodo(1)

when(result) {
    is Result.Error -> TODD()
    is Result.Success -> TODO()
}
```

### Result 클래스 예시
```kotlin
sealed class Result<out T, out E> {
    data class Success<out T>(
        val data: T
    ) : Result<T, Nothing>()

    data class Error<out E>(
        val error: E
    ) : Result<Nothing, E>()
}

```
- 패키지는 util 또는 core 

### Result 패턴 사용시 장점
- 타입 안정성 향상
- 에러 처리 강제성 (컴파일러가 모든 케이스 처리를 강제)
```kotlin
when (val result = getUser()) {
    is Result.Success -> showUser(result.data)
    is Result.Error -> showError(result.error)
}
// 둘 다 안쓰면 컴파일러가 경고 / 에러
```
- 에러 타입의 명확한 문서화
- try - catch 남용 방지
- 비즈니스 로직과 에러 처리 분리
- Nullable 타입 사용 감소
- 테스트 용이성
- 패턴 매칭을 통한 가독성 향상

