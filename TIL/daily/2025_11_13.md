# TIL

## 2025_11_13 예외, 파일 조작, 여러가지 데이터 형식

### 예외
- 설계자가 의도한 대로 사용을 안하면 터트리겠다~~
- `try ~ catch`

### 파일 조작

----------

#### 기본순서
- 연다
- 쓴다
- 닫는다
```kotlin
fun main() {
    val file = File("~~~")
    
    // 새로 쓰기
    file.writeText("~~~")
    
    // 붙이기
    file.appendText("~~~")
    
    // 읽기
    file.readText()
    
}
```

### 여러가지 데이터 형식

#### CSV
- 데이터를 콤마로 나눈 형식
- `val str = "홍길동,한석봉,신사임당"`

#### 프로퍼티 형식
- Properties 클래스를 사용해 key-value 로 읽고 쓰기 가능

#### XML 형식
- `<>` 태그를 활용한 기술 방식
- 포함관계를 기술할 수 있다.

#### JSON 형식
- 네트워크 통신에서 가장 많이 사용
- XML에 비해 적은 용량
- [] -> 리스트
- {} -> 객체 표현
- 키:값 형태
```json
{
  "이름": "홍길동",
  "나이": 25,
  "성별": "여",
  // .....
}
```

##### XML vs JSON
- 컴퓨터 입장에서도 JSON이 더 좋다.

### 직렬화 (Serialization)
- 데이터 구조나 객체 상태를 저장하고 나중에 재구성할 수 있는 포맷으로 변환
- 객체를 파일 형태 등으로 저장하거나, 통신하기 쉬운 형태로 변환하는 과정을 의미
- 직렬화 : 클래스 -> Json
- 역직렬화 : Json -> 클래스
- 코틀린 공식 직렬화 라이브러리 : `@Serializable`
```kotlin
fun main() {
    // 직렬화
    val json = Json.encodeToString(User(~~))
    println(json)
    
    // 역직렬화
    val obj = Json.decodeFromString<User>(json)
    println(obj)
}
```
- 직렬화, 역직렬화는 언제든 터질 수 있다.
