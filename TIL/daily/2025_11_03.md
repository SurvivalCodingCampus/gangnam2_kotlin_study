# TIL

## 2025-11-03 - 상속

-----

## 상속

- 이전에 만든 클래스와 닮았지만, 일부 다른 클래스를 만들 필요가 있을 경우가 늘어날 것이다.
- 모든 걸 준다? 
- 확장 느낌..
- 복사 붙여넣기의 문제점
  - 추가, 수정에 시간이 걸린다.
    - 소스의 파악이나 관리가 어려워진다.

    -> 해결책으로 **상속**을 이용
- 코틀린은 기본적으로 상속이 금지되어 있다.
  - 자바는 기본적으로 상속 가능, `final` 키워드로 상속을 금지해야 한다.
- `open` 키워드를 통해 상속이 가능하게 한다.
```kotlin
class SuperHero(
    name: String
): Hero(name) {
    // ....
}

open class Hero(
    var name: String = "",
    var hp: Int = 0,
    val maxHp : Int = MAX_HP
)
```
- 이런 형태로 SuperHero의 name을 지정할 때 `val`, `var` 키워드를 붙일 수 없다.
- 이유: SuperHero는 Hero를 상속받았기 때문에 Hero 내부에 `var name` 이라는 프로퍼티가 존재해 같은 프로퍼티 이름을 생성 불가

## 오버라이드
- Hero의 함수 중 run() 함수를 좀 다르게 쓰고 싶다.
```kotlin
override fun attack(slime: Slime) {
    super.attack(slime)
  
    if (isFlying) {
        print("~~~~")
    }
}
```
- `super` 를 하면 hero 클래스의 `attack()`을 수행하고 if 문을 추가로 실행!
- `init` 블록이 `hero`, `superhero` 에 둘 다 존재하고. `superhero` 인스턴스를 생성한다면 `hero` -> `superhero` 순으로 `init`이 실행된다.

### 올바른 상속
- 올바른 상속은 **"is-a 원칙"** 이라고 하는 규칙에 따른 상속을 말함.

### 잘못된 상속
- 클래스를 확장할 때 현실세계와의 모순이 생긴다.
- 객체 지향의 3대 특징 중 1가지 “다형성" 을 이용할 수 없게 된다

## 구체화와 일반화의 관계
- 자식 클래스 일수록 구체화 되고, 부모 클래스일수록 추상적인 것으로 일반화 된다.