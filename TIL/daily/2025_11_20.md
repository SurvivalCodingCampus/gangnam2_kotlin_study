# TIL

## 2025_11_20 _ Model & Repository / Test 이론

## Model

## Repository

## Test 이론
### Test Double
- 테스트를 진행하기 어려운 경우 테스트가 가능하도록 만들어주는 객체

### 테스트가 어려운 구조
- 의존성이 강한 구조
- 어떤 클래스 안에서 다른 클래스를 생성하는 것
```kotlin
class Engine
class Car {
    val engine = Engine() 
}
```
- 이건 테스트하기 어려움 Car 안에 Engine이 있음

```kotlin
class Car(val engine: Engine) {
    fun start() {
        engine.start()
    }
}
```
- 테스트가 가능한 구조

- 테스트하기에는 클래스보다는 인터페이스가 낫다.
```kotlin
// 테스트가 어려운 구조 개선
class TodoRepositoryImpl: TodoRepository {
    private val dataSoucre = TodoDateSource()
}

class TodoRepositoryImpl(
    private val dataSoucre: TodoDateSource
): TodoRepository {
    
}
```
- 클래스 내부에서 다른 클래스를 생성하기 보다 외부에서 받도록 수정!

### 좋은 Unit Test의 6가지 조건(FRIEND)
- Fast - 빠르고
- Reliable - 믿을 수 있고
- Independent - 독립적인
- Ease of Maintenance - 유지 관리가 쉽고
- Nearly compacted code - 거의 압축적인 코드
- Dependencies should be less - 의존성이 적어야 한다