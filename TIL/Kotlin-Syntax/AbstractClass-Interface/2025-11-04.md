# 추상클래스와 인스턴스

## 📌 코드 리뷰

- 나만 들고있는 것은 암묵적으로 this가 생략된 것이고
- super가 들고있는 것은 암묵적으로 super가 생략된 것임


- private한 것을 테스트 때문에 바꾸면 안된다
  - 외부에서 수정하는 것이 안전한가?
  - 생성자로 초기화해서 안전하게 테스트하는 방법도 생각해봐야


- 프로퍼티는 게터 세터를 가지고 있음 == 메서드
  - **즉, 프로퍼티는 `override` 할 수 있음**
  - 따라서, `val` 변수를 오버라이드 하면, getter를 오버라이딩한 것임


- 코틀린은 nullable이어도 디폴트값을 설정해주지 않으면 초기화되지 않았다고 인식해서 null 값을 디폴트값으로 설정해주는게 좋다


- 슈퍼 클래스가 서브 클래스를 알고 있을 수 없다
  - Wizard에서 GreatWizard를 접근할 수 없다


- `lateinit var` 금지
  - 나중에 초기화 하겠다는 뜻
  - 초기화를 안하고 접근하면 터짐 > 너무 위험. 왠만하면 쓰지 말자
  - 테스트 코드 짤 때는 필요하면 써도 된다

- `by lazy` 얘는 써도 됨
  - 최초에 접근될 때, 메모리에 할당됨 > 안전함
  - 해당 클래스의 인스턴스가 생성될때 할당되는 것이 아니라, 해당 필드가 최초로 접근될 때 할당됨

---
## 추상클래스

> 상속의 재료가 되는 클래스  
인스턴스화 되면 안됨!  
UML에서 *이텔릭체*로 표현됨  

- 추상 메서드는 추상 클래스 내부에서만 선언 가능
    - 추상 메서드는 상속한 클래스에서 무조건 오버라이딩 해줘야 한다! > 안하면 컴파일 에러


- 추상 클래스는 인스턴스화가 금지되어 있다
    - 상속의 재료로만 사용됨


- `open` 키워드가 필요가 없다
    - 다만 상속이므로 단일 상속을 만족해야 한다


## 인터페이스

> 객체 지향의 꽃 🌺  
비슷한 기능들을 모아둔 것

1. **모든 메서드는 추상 메서드여야 한다**
2. **필드를 가지지 않는다**

#### 인터페이스를 사용하는 이유

- 추상 클래스 쓰면 되지 왜 인터페이스를 쓸까?
  - 상속과 달리 **클래스는 여러 인터페이스를 구현할 수 있다!**
- 그래서 왜 쓸까?
  - 윗단에서 막혀있어서 안전하다
  - 📌다형성

```kotlin
interface Attackable {
    fun attack(target: Slime)
    fun defend()
}
```
- 인터페이스 가지는 모든 메서드는 어짜피 추상 메서드이므로,  
  `abstract` 키워드가 필요 없다. `{}` 도 필요없다

```kotlin
open class Hero(
		name: String,
		hp: Int = 100,
) : Character(name, hp), Attackable {/*...*/}
```
- 상속을 하면서 인터페이스 구현도 가능


#### 💬 생길 수 있는 의문점

```kotlin
interface Thing {
    var weight: Double
}
```
<img height="120" alt="image" src="https://github.com/user-attachments/assets/39be41ea-f882-4869-9ea9-fe7164ab76a4" />

- 인터페이스에 `val` 들어가는데요?? (필드 가질 수 있는 것 아닌가요?)
    - 아니다. 프로퍼티라서 getter 메서드가 들어간 것 뿐이다…
- Java에서는 되던데요?
    - `public static final` 이 생략된 것 — static있어서 필드가 아니다

---
#### +) 지수 표기법 (Exponential notation)

> `1e-9` <=> 1 × 10 ⁻ ⁹

```
<유효숫자> e<지수>
```

- `e` 는 **exponent (지수)** 를 의미
- `e` 뒤의 숫자는 **10의 몇 제곱인지**를 나타냄
- `e+9` → 유효숫자에 10 ⁹를 곱함
- `e-9` → 유효숫자에 10 ⁻ ⁹를 곱함

```kotlin
val a = 1e3   // 1 * 10^3 = 1000.0
val b = 5.2e2 // 5.2 * 10^2 = 520.0
val c = 3e-2  // 3 * 10^-2 = 0.03
val d = 1e-9  // 0.000000001
```
