## 클래스(객체지향)

### 1. 레퍼런스 타입과 참조

| 구분               | 저장 방식                | 예시                           | 특징                           |
|------------------|----------------------|------------------------------|------------------------------|
| **Primitive 타입** | 변수 자체에 값이 저장됨        | `val x = 10`                 | 그 자체가 값이며, 별도의 참조 주소가 없음     |
| **Reference 타입** | 변수에 객체의 주소(참조값)가 저장됨 | `val cleric = Cleric("아서스")` | 실제 데이터는 메모리의 다른 영역(Heap)에 존재 |

> Kotlin은 모든 타입이 참조 타입(Reference Type) 으로 동작

#### 인스턴스 생성과 메모리 저장

- `Cleric("아서스")` 와 같이 **인스턴스를 생성** 하면 객체는 **Heap 영역에 생성**
- 변수에는 그 **객체의 주소(참조값)** 저장
- 눈으로 확인은 불가능하지만, 내부적으로는 “주소”를 통해 객체에 접근

```kotlin
val cleric1 = Cleric("아서스")
val cleric2 = cleric1 // 같은 객체의 주소를 참조
```

```kotlin
val hero1 = Hero(name = "홍길동", hp = 100)
val hero2 = hero1

hero2.hp = 200

// hero2로 바꿨지만, 실제로는 같은 객체의 hp 속성이 수정되는 것
// 그래서 hero1.hp도 자동으로 200
```

- 하나를 수정하면, 다른 하나에도 영향

#### 필드를 가지는 클래스

```kotlin
class Sword(
    val name: String,
    val damage: Int,
)

class Hero(
    var name: String, // 필수
    var hp: Int, // 필수
    var sword: Sword? = null, // 선택
)
```

> 생성자 호출 시 반드시 전달

- name과 hp는 기본값이 없기 때문에 인스턴스를 만들 때 반드시 인자를 전달
    - name, hp → 필수 값 (required parameter)
    - sword → 선택 값 (optional parameter) (기본값 null이 있어서 생략 가능)

---

### 2. 생성자(constructor)

> 인스턴스를 생성하는 방법을 제공

#### Named Arguments

- 함수를 호출할 때 인수 중 하나 이상의 이름 지정 가능
- 순서를자유롭게 변경 가능
- 가독성이 좋아짐

#### 생성자 오버로드

- Kotlin 은 기본값을 지정하는 것으로 생성자 오버로딩을 지원
    - 모든 클래스는 반드시 1개 이상의 생성자를 가짐
    - 생성자를 1개도 작성하지 않으면 기본 생성자가 있는 것으로 간주

```kotlin
class Hero(
    var name: String = "홍길동",
    var hp: Int = 10,
    var sword: Sword? = null,
)
```

---

### 3. Companion Object

> `top-level constant`와 `companion object`는 동작 메커니즘은 비슷하지만 “의도”가 다름

#### Top-level 상수 (`const val`)

```kotlin
const val MAX_HP = 100
```

- 클래스 **밖**, 즉 **파일의 최상위(top-level)** 에 선언
- **프로그램 전체에서 접근 가능** (`import`로 불러올 수 있음)
- **JVM static final** 로 컴파일됨 → 완전한 “전역 상수”
- **객체가 만들어지지 않아도 접근 가능**

#### Companion object

```kotlin
class Hero {
    companion object {
        const val MAX_HP = 100
    }
}
```

- **클래스 내부**에 정의되지만, **인스턴스 없이 접근 가능**
- `Hero.MAX_HP` 형태로 사용
- 컴파일 시 **JVM의 static 멤버**로 변환
- 클래스의 **논리적 속성**을 나타낼 때 사용

#### 사용의도 비교

| 구분                             | 사용 의도                                                               | 
|--------------------------------|---------------------------------------------------------------------| 
| **Top-level 상수 (`const val`)** | - **전역적으로 공유되는 불변값** 정의 시 사용<br>- 클래스에 속하지 않고 어디서든 접근 가능            | 
| **Companion Object**           | - **클래스 자체와 의미적으로 묶인 상수나 함수** 정의 시 사용<br>- 인스턴스가 없어도 클래스 이름으로 접근 가능 | 
