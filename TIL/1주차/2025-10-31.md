# Kotlin ê¸°ì´ˆ ì •ë¦¬ â€“ ê°ì²´ì§€í–¥, ìº¡ìŠí™”, í”„ë¡œí¼í‹°, ì»¬ë ‰ì…˜ ì •ë¦¬

---

## ğŸ’¡ ê°ì²´ì§€í–¥(Object-Oriented Programming)

### ìº¡ìŠí™”(Encapsulation)

- í´ë˜ìŠ¤ë‚˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ í˜„ì‹¤ì„¸ê³„ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆì§€ë§Œ,  
  ì‹¤ìˆ˜ë¡œ ì†ì„±ì„ ì˜ëª» ìˆ˜ì •í•˜ëŠ” **íœ´ë¨¼ ì—ëŸ¬(human error)** ëŠ” ì—¬ì „íˆ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
- ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ **ìº¡ìŠí™”**ë¥¼ ì‚¬ìš©í•œë‹¤.  
  â†’ í´ë˜ìŠ¤ ë‚´ë¶€ ìƒíƒœë¥¼ ê°ì¶”ê³ , ë©”ì„œë“œë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼í•˜ë„ë¡ ì œí•œí•œë‹¤.

---

## ğŸ”’ ì ‘ê·¼ ì§€ì •ì(Access Modifier)

| ì œí•œ ìˆ˜ì¤€ | í‚¤ì›Œë“œ       | ì ‘ê·¼ ê°€ëŠ¥ ë²”ìœ„      |
|-------|-----------|---------------|
| ì—„ê²©    | `private` | ìê¸° ìì‹ ì˜ í´ë˜ìŠ¤ ë‚´ë¶€ |
| ëŠìŠ¨    | `public`  | ëª¨ë“  í´ë˜ìŠ¤ (ê¸°ë³¸ê°’)  |

---

## getter / setter ë¥¼ í†µí•œ í•„ë“œ ì¡°ì‘

- **getter** : ì½ê¸° ì „ìš© í•„ë“œë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©
- **setter** : ì“°ê¸° ì „ìš© ë˜ëŠ” ê°’ ê²€ì¦ì´ í•„ìš”í•œ í•„ë“œë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©

---

## getter / setter ì˜ ì¥ì 

- **Read Only / Write Only** êµ¬í˜„ ê°€ëŠ¥
- í´ë˜ìŠ¤ ë‚´ë¶€ ì„¤ê³„ë¥¼ ììœ ë¡­ê²Œ ë³€ê²½ ê°€ëŠ¥
- ê°’ ë³€ê²½ ì‹œ **ìœ íš¨ì„± ê²€ì¦ ë¡œì§** ì¶”ê°€ ê°€ëŠ¥
- ë¶ˆë³€ì„±(`val`)ê³¼ ë³€ê²½ ê°€ëŠ¥ì„±(`var`)ì„ ëª…í™•íˆ êµ¬ë¶„

---

### Kotlinì—ì„œì˜ íŠ¹ì§•

- `val` â†’ getterë§Œ ìƒì„±
- `var` â†’ getter + setter ìƒì„±
- Kotlinì—ì„œëŠ” ëª…ì‹œì ìœ¼ë¡œ ì•ˆ ë³´ì—¬ë„ ë‚´ë¶€ì ìœ¼ë¡œ ìë°”ì˜ getter/setterë¡œ ë³€í™˜ë¨.

---

## í”„ë¡œí¼í‹°(Property)ì™€ í•„ë“œ(Field)

| êµ¬ë¶„                       | ì„¤ëª…                                        |
|--------------------------|-------------------------------------------|
| **í•„ë“œ(Field)**            | ì‹¤ì œ ë°ì´í„° ì €ì¥ ê³µê°„                              |
| **í”„ë¡œí¼í‹°(Property)**       | `getter`ì™€ `setter`ë¥¼ í†µí•´ í•„ë“œì— ì ‘ê·¼             |
| **ë°±í‚¹ í•„ë“œ(Backing Field)** | í”„ë¡œí¼í‹°ì˜ ì‹¤ì œ ê°’ì„ ì €ì¥í•˜ëŠ” ìˆ¨ê²¨ì§„ í•„ë“œ (`field` í‚¤ì›Œë“œë¡œ ì ‘ê·¼) |

ğŸ’¡ í”„ë¡œí¼í‹°ëª… ì•ì— `_`(ì–¸ë”ë°”)ë¥¼ ë¶™ì—¬ ë‚´ë¶€ ì „ìš©ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê´€ë¡€ê°€ ìˆë‹¤.  
ì˜ˆ: `_hp`, `_name`

---

## ìƒì„±ìì™€ í”„ë¡œí¼í‹°

- ìƒì„±ìì— `var` ë˜ëŠ” `val`ì„ ë¶™ì´ì§€ ì•Šìœ¼ë©´ â†’ ë‹¨ìˆœ **íŒŒë¼ë¯¸í„°** (ë©¤ë²„ ì•„ë‹˜)
- ë¶™ì´ë©´ ìë™ìœ¼ë¡œ **í”„ë¡œí¼í‹°**ê°€ ë¨
  ```kotlin
  class Person(name: String)  // ë‹¨ìˆœ íŒŒë¼ë¯¸í„°
  class Person(val name: String) // í”„ë¡œí¼í‹° (getter ìë™ ìƒì„±)

---

# ğŸ—‚ï¸ ì»¬ë ‰ì…˜(Collection)

| ì»¬ë ‰ì…˜      | ì„¤ëª…                                 |
|----------|------------------------------------|
| **List** | ìˆœì„œê°€ ìˆëŠ” ìë£Œ êµ¬ì¡° (ì¤‘ë³µ í—ˆìš©)               |
| **Set**  | ìˆœì„œê°€ ì—†ëŠ” ì§‘í•© (ì¤‘ë³µ ë¶ˆê°€, íƒìƒ‰ ë¹ ë¦„)           |
| **Map**  | `key` - `value` ìŒìœ¼ë¡œ ì €ì¥ (key ì¤‘ë³µ ë¶ˆê°€) |

---

## ë°°ì—´ vs ë¦¬ìŠ¤íŠ¸

| êµ¬ë¶„    | ë°°ì—´(Array)             | ë¦¬ìŠ¤íŠ¸(List) |
|-------|-----------------------|-----------|
| í¬ê¸°    | ê³ ì •                    | ê°€ë³€        |
| ì‚½ì…/ì‚­ì œ | ëŠë¦¼                    | ë¹ ë¦„        |
| íƒìƒ‰    | ë¹ ë¦„                    | ëŠë¦¼(ìƒëŒ€ì )   |
| íŠ¹ì§•    | ì¤‘ê°„ ì‚­ì œ ì‹œ ë’¤ ìš”ì†Œê°€ ì•ìœ¼ë¡œ ë‹¹ê²¨ì§ | í¬ê¸° ìë™ ì¡°ì •  |

---

## ìë£Œêµ¬ì¡°

- **List / Set** : `iterator` ì œê³µ â†’ ìš”ì†Œ ìˆœíšŒ ê°€ëŠ¥
- **Stack (ìŠ¤íƒ)** : í›„ì…ì„ ì¶œ (LIFO) â€” `undo/redo` êµ¬í˜„ì— í™œìš©
- **Queue (í)** : ì„ ì…ì„ ì¶œ (FIFO) â€” í”„ë¦°íŠ¸ ëŒ€ê¸°ì—´, ì‘ì—… í ë“±ì—ì„œ ì‚¬ìš©

---

## âš¡ Kotlinì—ì„œì˜ ì»¬ë ‰ì…˜

- `Set` â†’ **ì¤‘ë³µ ë¶ˆê°€, ë¹ ë¥¸ íƒìƒ‰**
- `Map` â†’ **KeyëŠ” ìœ ì¼, ValueëŠ” ì¤‘ë³µ ê°€ëŠ¥**

| ì»¬ë ‰ì…˜      | ë¶ˆë³€í˜• ìƒì„±     | ê°€ë³€í˜• ìƒì„±            | ì¤‘ë³µ              | ìˆœì„œ   | ë¹„ê³             |
|----------|------------|-------------------|-----------------|------|---------------|
| **List** | `listOf()` | `mutableListOf()` | âœ… ê°€ëŠ¥            | âœ… ìˆìŒ | ìˆœì„œ ì¤‘ìš”í•  ë•Œ      |
| **Set**  | `setOf()`  | `mutableSetOf()`  | âŒ ë¶ˆê°€            | âŒ ì—†ìŒ | ì¤‘ë³µ ì œê±° ë° ë¹ ë¥¸ ê²€ìƒ‰ |
| **Map**  | `mapOf()`  | `mutableMapOf()`  | key âŒ / value âœ… | âŒ ì—†ìŒ | key-value ì €ì¥ìš© |

> ê°€ëŠ¥í•˜ë©´ ê¸°ë³¸í˜•ì„ ì‚¬ìš©í•˜ì—¬ íœ´ë¨¼ ì—ëŸ¬ë¥¼ ì¤„ì´ëŠ” ê²ƒì´ ì¢‹ë‹¤.

---

## ğŸ“˜ ì•Œì•„ë‘ë©´ ì¢‹ì€ ë‚´ìš©

- **ë°©ì–´ì ì¸ ì½”ë“œë¥¼ ì§€í–¥í•˜ì**
- **ìƒìˆ˜ê°’ í…ŒìŠ¤íŠ¸ëŠ” í° ì˜ë¯¸ê°€ ì—†ë‹¤.**

---

## ê³¼ì œ ë¦¬ë·°

> ### ë‹¤ìŒì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì‹œì˜¤.
> 
> ë‹¤ìŒ 2ê°œì˜ í´ë˜ìŠ¤ â€œWizard (ë§ˆë²•ì‚¬)â€, â€œWand (ì§€íŒ¡ì´)â€ ë¥¼ ì‘ì„±í•˜ì‹œì˜¤. ë§ˆë²•ì‚¬ëŠ” ì§€íŒ¡ì´ë¥¼ ë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
>
> ì‘ì„±í•œ Wand í´ë˜ìŠ¤ì™€ Wizard í´ë˜ìŠ¤ì— ëŒ€í•´, ì•„ë˜ì˜ ê·œì¹™ì— ë”°ë¼ íƒ€ë‹¹ì„± ê²€ì‚¬ë¥¼ ì¶”ê°€í•˜ì‹œì˜¤.  
> ë¶€ì •í•œ ê°’ì´ ì„¤ì • ë  ê²½ìš°ì—ëŠ” â€œIllegalArgumentException(â€œë©”ì„¸ì§€")â€ ë¥¼ ì‘ì„±í•˜ì—¬ í”„ë¡œê·¸ë¨ì„ ì¤‘ë‹¨ ì‹œí‚µë‹ˆë‹¤.
> 1) ë§ˆë²•ì‚¬ë‚˜ ì§€íŒ¡ì´ì˜ ì´ë¦„ì€ null ì¼ ìˆ˜ ì—†ê³ , ë°˜ë“œì‹œ 3ë¬¸ì ì´ìƒì´ì–´ì•¼ í•œë‹¤
> 2) ì§€íŒ¡ì´ì˜ ë§ˆë ¥ì€ 0.5 ì´ìƒ 100.0 ì´í•˜ì—¬ì•¼ í•œë‹¤.
> 3) ë§ˆë²•ì‚¬ì˜ MPëŠ” 0 ì´ìƒì´ì–´ì•¼ í•œë‹¤.
> 4) HPê°€ ìŒìˆ˜ê°€ ë˜ëŠ” ìƒí™©ì—ì„œëŠ” ëŒ€ì‹  0ì„ ì„¤ì • ë˜ë„ë¡ í•œë‹¤.

```kotlin
class Wizard(
    name: String,           // ì´ë¦„
    hp: Int,                // ì²´ë ¥
    mp: Int = DEFAULT_MP,   // ë§ˆë‚˜
    wand: Wand?,            // ì™„ë“œ
)
```

- `wand`ëŠ” `Wand?`ë¡œ ì„ ì–¸ë˜ì–´ null ê°€ëŠ¥
- `mp`ëŠ” ê¸°ë³¸ê°’ì„ `companion object`ì•ˆì— ì„¤ì •

```kotlin
var name: String = name
set(value) {
    if (value.length < 3) {
        throw IllegalArgumentException("ì´ë¦„ì´ 3ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.")
    }

    if (value.length > 8) {
        throw IllegalArgumentException("ì´ë¦„ì´ 8ì ì´í•˜ì´ì–´ì•¼ í•©ë‹ˆë‹¤.")
    }

    if (value.contains(" ")) {
        throw IllegalArgumentException("ì´ë¦„ì— ê³µë°±ì´ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.")
    }

    if (value.contains(Regex("[^A-Za-z0-9ê°€-í£]"))) {
        throw IllegalArgumentException("ì´ë¦„ì— íŠ¹ìˆ˜ë¬¸ìê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.")
    }

    field = value
}
```

- ë§ˆë²•ì‚¬ì˜ ì´ë¦„ì„ ì €ì¥í•˜ëŠ” **í”„ë¡œí¼í‹°**
- `setter`ë¥¼ í™œìš©í•œ **íƒ€ë‹¹ì„± ê²€ì‚¬**
- `field`ëŠ” `backing field(ì‹¤ì œ ì €ì¥ì†Œ)`
- ë²”ìœ„, ê³µë°± ê²€ì‚¬, íŠ¹ìˆ˜ë¬¸ì ê²€ì‚¬ ì¶”ê°€

```kotlin
var mp: Int = mp
set(value) {
    if (value < 0) {
        throw IllegalArgumentException("MPëŠ” 0 ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.")
    }

    if (value > 1000) {
        throw IllegalArgumentException("MPëŠ” 1000 ì´í•˜ì´ì–´ì•¼ í•©ë‹ˆë‹¤.")
    }

    field = value
}
```

- ë²”ìœ„ ì¶”ê°€

```kotlin
var hp: Int = hp
set(value) {
    field = if (value < 0) 0 else value
}
```

- ë¹„êµì  ê°„ë‹¨í•œ êµ¬ì¡°ë¼ì„œ í•œì¤„ ì¡°ê±´ì‹ìœ¼ë¡œ ì„¤ì •

---

> ### Person í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•˜ì‹œì˜¤.
>
> 1) ì´ë¦„ê³¼ íƒœì–´ë‚œ í•´ë¥¼ ìƒì„±ìë¡œ ë°›ëŠ”ë‹¤ (name, birthYear)
> 2) ì´ë¦„ê³¼ íƒœì–´ë‚œ í•´ëŠ” í•œë²ˆ ì •í•´ì§€ë©´ ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
> 3) age í”„ë¡œí¼í‹°ë¥¼ í†µí•´ ë‚˜ì´ë¥¼ ì œê³µí•˜ì§€ë§Œ, ì„ì˜ë¡œ ìˆ˜ì •ì€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.
> 4) ë‚˜ì´ ê³„ì‚°ì€ ì˜¬í•´ë…„ë„ì—ì„œ birthYear ë…„ë„ë¥¼ ëº€ ê°’ì„ ë¦¬í„´í•œë‹¤  
     >    a. í˜„ì¬ ì‹œê°„ê³¼ ë‚ ì§œë¥¼ êµ¬í•˜ëŠ” ë°©ë²•ì€ ê²€ìƒ‰ í•´ ë³¼ ê²ƒ

```kotlin
class Person(
    val name: String,   // ì´ë¦„
    val birthYear: Int, // íƒœì–´ë‚œ í•´
)
```

- ê¸°ë³¸ê°’ X, `val`ë¡œ ë³€ê²½ ë¶ˆê°€

```kotlin
private val currentYear: Int = LocalDate.now().year
```

- ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ë¶ˆê°€
- `LocalDate.now().year`ì€ ì˜¬í•´ ì—°ë„ë¥¼ ì •ìˆ˜ë¡œ ê°€ì ¸ì˜´

```kotlin
val age: Int
get() = LocalDate.now().year - birthYear
```

- `getter`ë¡œ ì§ì ‘ ì •ì˜
- ì—°ì‚° ê²°ê³¼ë¥¼ ì¦‰ì‹œ ë°˜í™˜, `setter`ê°€ ì—†ì–´ì„œ ìˆ˜ì • ë¶ˆê°€

---

> ### 1ë²ˆ ë‹¤ìŒì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì‹œì˜¤.
> 
> ë‹¤ìŒ ì •ë³´ë¥¼ ì €ì¥í•˜ê¸° ì¢‹ì€ ì»¬ë ‰ì…˜ì„ List, Set, Map ì¤‘ ê³ ë¥´ì‹œì˜¤. ê·¸ ì´ìœ ëŠ”?
>
> 1) **ëŒ€í•œë¯¼êµ­ì˜ ë„ì‹œ ì´ë¦„ ëª¨ìŒ (ìˆœì„œ ìƒê´€ ì—†ìŒ)**  
     >    ë„ì‹œëŠ” ìˆœì„œê°€ ìƒê´€ì—†ê¸° ë•Œë¬¸ì— ìˆœì„œ ìƒê´€ ì—†ê³  ì†ë„ê°€ ë¹ ë¥¸ Setì´ ì¢‹ë‹¤.
>
> 2) **10ëª… í•™ìƒì˜ ì‹œí—˜ ì ìˆ˜**
     >    í•™ìƒì˜ ì‹œí—˜ ì ìˆ˜ëŠ” ìˆœì„œê°€ ì¤‘ìš”í•˜ì§€ ì•Šì„ ìˆ˜ ìˆì§€ë§Œ, í•™ìƒ ì´ë¦„ í˜¹ì€ í•™ë²ˆê³¼ ì ìˆ˜ë¡œ ë¬¶ì–´ì„œ ì €ì¥í•˜ê¸° ì¢‹ê¸°ì— Mapì´ ì¢‹ë‹¤.
>
> 3) **ëŒ€í•œë¯¼êµ­ì˜ ë„ì‹œë³„ ì¸êµ¬ìˆ˜ (ìˆœì„œ ìƒê´€ ì—†ìŒ)**  
     >    ë„ì‹œë³„ ì¸êµ¬ìˆ˜ëŠ” ìˆœì„œê°€ ì¤‘ìš”í•˜ì§€ ì•Šê³ , ë¬¶ì–´ì„œ ì €ì¥í•˜ê¸° ì¢‹ì•„ì„œ Mapì´ ì¢‹ë‹¤.

---

> ### ë‹¤ìŒì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì‹œì˜¤.
>
> 1) ì´ë¦„ì„ ê°€ì§€ëŠ” Person í´ë˜ìŠ¤ë¥¼ ì‘ì„±í•˜ì‹œì˜¤. Personì€ ë°˜ë“œì‹œ ì´ë¦„ì„ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.
> 2) ì´ë¦„ì´ â€˜í™ê¸¸ë™â€™, â€˜í•œì„ë´‰â€™ì¸ Person ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , Listì— ë‹´ìŠµë‹ˆë‹¤.
> 3) Listì— ë‹´ê¸´ ëª¨ë“  Person ì¸ìŠ¤í„´ìŠ¤ì˜ ì´ë¦„ì„ í‘œì‹œí•˜ì‹œì˜¤.

```kotlin
class Person(val name: String, var age: Int? = null)
```

- ì´ë¦„ì€ í•„ìˆ˜, ë‚˜ì´ëŠ” 3ë²ˆ ë¬¸ì œì— ì‚¬ìš©í•˜ê¸°ìœ„í•´ nullì„ í—ˆìš©í•œë‹¤

```kotlin
val person1 = Person("í™ê¸¸ë™")
val person2 = Person("í•œì„ë´‰")

val people: List<Person> = listOf(person1, person2)

for (person in people) {
    println(person.name)
}
```

---

> ### ë‹¤ìŒì„ ìˆ˜í–‰í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•˜ì‹œì˜¤.
>
> ì—°ìŠµë¬¸ì œ 2ì—ì„œ ì‘ì„±í•œ Person í´ë˜ìŠ¤ë¡œ ìƒì„±í•œ â€˜í™ê¸¸ë™â€™, â€˜í•œì„ë´‰â€™ì˜ ë‚˜ì´ë¥¼ ê°ê° 20, 25ì‚´ì´ë¼ê³  í•  ë•Œ, ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ìŒìœ¼ë¡œ ì ë‹¹í•œ ì»¬ë ‰ì…˜ì— ë„£ìŠµë‹ˆë‹¤.  
> ê·¸ ë‹¤ìŒ, ì»¬ë ‰ì…˜ì— ì €ì¥í•œ ê°’ì„ í•˜ë‚˜ì”© ë‹¤ìŒê³¼ ê°™ì´ ì¶œë ¥í•©ë‹ˆë‹¤.
>
> â€œí™ê¸¸ë™ì˜ ë‚˜ì´ëŠ” 20ì‚´â€  
> â€œí•œì„ë´‰ì˜ ë‚˜ì´ëŠ” 25ì‚´â€

```kotlin
val person1 = Person("í™ê¸¸ë™", 20)
val person2 = Person("í•œì„ë´‰", 25)

val people: Map<String, Int?> = mapOf(
    person1.name to person1.age,
    person2.name to person2.age
)

people.entries.forEach {
    println("${it.key}ì˜ ë‚˜ì´ëŠ” ${it.value}ì‚´")
}
```

- ì´ë¦„ì„ `key`, ë‚˜ì´ë¥¼ `value`ë¡œ ì„¤ì •
- `entries`ëŠ” `Set<Map.Entry<K,V>>`
- `it`ì€ **ëŒë‹¤ì‹(ìµëª… í•¨ìˆ˜)** ê¸°ë³¸ ì œê³µë˜ëŠ” ë§¤ê°œë³€ìˆ˜ì´ë‹¤.